{%extends "base.html"%}

{%block page_head%}
<link rel="stylesheet" href="{{url_for('static', filename='stylesheets/query_page.css')}}">
{%endblock%}

{%block body%}
<h1>Query your documents with AI</h1>
<form action="{{url_for('response_page')}}" method="post" enctype="multipart/form-data" class="card-container">
    <label for="query_box">Query/Prompt</label>
    <input name="query_box" type="text">

    <label>Attach PDF and text files.</label>
    <div style="background-color: whitesmoke;" id="file_selection_box">
        <input type="file" name="file_1" accept="application/pdf, text/plain, text/markdown">
    </div>
    <input type="button" value="Increase Files" onclick="addFiles()">

    <input name="query_submission" type="submit" class="primary-button">
</form>
<a href="{{url_for('index_page')}}" class="nav-link">Go to Home Page</a>
<script>
    let no_of_files = 1;
    function addFiles(){
        no_of_files += 1;
        new_element = document.createElement('input');
        new_element.type = "file";
        new_element.name = `file_${no_of_files}`;
        new_element.accept = "application/pdf, text/plain, text/markdown";
        document.getElementById("file_selection_box").append(document.createElement('br'));
        document.getElementById("file_selection_box").append(new_element);
    }
</script>
{%endblock%}